categories:
  - name: P0
    tests:
    - name: ITEMS01
      description: Request for item information followed by quote
      priority: 0
      turns:
      - from: jessica.stone@toytopia.com
        subject: Information Request - Toytopia
        body: |

          We are in the market for reselling WonderWagon products.
          Could you please provide us with a list of trains from that producer
          that you offer?

          Thanks,
          Jessica Stone
        expected_data:
          allowQuote: true
          attachments: false
          email: |
            Email lists WonderWagon pull-along and electric trains.

            The email is from Sales Order Agent and clearly indicates
            that it's generated by AI.
      - from: jessica.stone@toytopia.com
        subject: Information Request - Toytopia
        body: |
            Can you please provide us with a quote for 5 of each.

            Thanks,
            Jessica Stone
            ________________________________

            From: shared@cronus.com
            To: jessica.stone@toytopia.com  
            Subject: RE_ Request for Quote - Toytopia

            Dear Jessica Stone,
            
            Thank you for your inquiry regarding WonderWagon products. 
            We are pleased to offer the following trains from WonderWagon:
            - WonderWagon Electric Train
            - WonderWagon Pull-Along Train
            
            Please review the options and let us know if you would like to proceed with a sales quote for any of these items.
            
            Best regards,
            Sales Order Agent
            
            This email content is generated by AI.
        expected_data:
          attachments: true
          quotes:
          - lines:
            - itemDescription: WonderWagon Pull-Along Train
              quantity: 5
              unitOfMeasure: PCS
              lineAmount: 199.75
            - itemDescription: WonderWagon Electric Train
              quantity: 5
              unitOfMeasure: PCS
              lineAmount: 299.75
            customerName: Toytopia
            totalExclVAT: 499.50
          email: |
            Email indicating that quote is attached with 5 WonderWagon pull-along
            trains and 5 WonderWagon electric trains.

            The email is from Sales Order Agent and clearly indicates
            that it's generated by AI.
    - name: QUOTE01
      description: Quote request for multiple items with delivery date
      priority: 0
      turns:
      - from: jessica.stone@toytopia.com
        subject: Request for Quote - Toytopia
        body: |
          Hello,

          I hope this message finds you well. My name is Jessica Stone, 
          and I am reaching out on behalf of Toytopia.

          We are currently in the process of procuring toys for our shop, 
          and we are interested in obtaining a quote for 2 
          AdventureCraft Building Blocks and 1 WonderWagon Pull-Along Train.

          Could you please create a sales quote for the above and send it to me for approval?

          I would need the items by 2026-01-01.

          Best regards,
          Jessica Stone  
          Sales Manager  
          Toytopia  
          (212) 555-6789
          jessica.stone@toytopia.com
          www.toytopia.com
        expected_data:
          attachments: true
          quotes:
          - lines:
            - itemDescription: WonderWagon Pull-Along Train
              quantity: 1
              unitOfMeasure: PCS
              lineAmount: 39.95
            - itemDescription: AdventureCraft Building Blocks
              quantity: 2
              unitOfMeasure: BOX
              lineAmount: 100.00
            requestedDeliveryDate: 2026-01-01
            customerName: Toytopia
            totalExclVAT: 139.95
          email: |
            The email indicates that a quote is attached with 1  
            WonderWagon Pull-Along Train and 2 AdventureCraft Building Blocks.
            The delivery date is 2026-01-01.
            
            The email is from Sales Order Agent and clearly indicates
            that it's generated by AI.
      - from: jessica.stone@toytopia.com
        subject: RE_ Request for Quote - Toytopia
        body: |
          Approved!

          Best regards,
          Jessica Stone  
          Sales Manager  
          Toytopia  
          (212) 555-6789
          jessica.stone@toytopia.com
          www.toytopia.com
          ________________________________

          From: shared@cronus.com
          To: jessica.stone@toytopia.com  
          Subject: RE_ Request for Quote - Toytopia

          
          Hello Jessica Stone,
          
          Thank you for your request. We have prepared the following sales quote for your approval:
          ...
        expected_data:
          attachments: true
          sales_orders:
          - lines:
            - itemDescription: WonderWagon Pull-Along Train
              quantity: 1
              unitOfMeasure: PCS
              lineAmount: 39.95
            - itemDescription: AdventureCraft Building Blocks
              quantity: 2
              unitOfMeasure: BOX
              lineAmount: 100.00
            requestedDeliveryDate: 2026-01-01
            customerName: Toytopia
            totalExclVAT: 139.95
          email: |
            The email indicates that a sales order is attached with 1  
            WonderWagon Pull-Along Train and 2 AdventureCraft Building Blocks.
            The delivery date is 2026-01-01.
            
            The email is from Sales Order Agent and clearly indicates
            that it's generated by AI.
    - name: UNKNOWNCUSTOMER01
      description: Request for quote. Unknown customer
      priority: 0
      from: john.hanson@toysforall.com
      subject: Quote Request - WonderWagon
      body: |
        My name is John Hanson, and I am with Toys for All. 
        We are planning for the upcoming summer vacation.
        
        Could you please provide a quote for the following:
        - 20 WonderWagon Pull-Along Trains

        Thanks,
        John Hanson
        Toys for All
      expected_data:
        userIntervention: true
        userInterventionReason: "Customer is not found in the system."
        userInterventionContinue: false
        attachments: false
        allowQuote: false
    - name: UNKNOWNITEM01
      description: Request for item information. Unknown item
      priority: 0
      from: jessica.stone@toytopia.com
      subject: Information Request - WiggleBiggle
      body: |
        We are in the market for reselling WiggleBiggle phone.
        Could you please provide us with a list of such products
        that you offer?

        Best regards,
          Jessica Stone  
          Sales Manager  
          Toytopia  
          (212) 555-6789
          jessica.stone@toytopia.com
          www.toytopia.com
      expected_data:
        userIntervention: true
        userInterventionReason: "WiggleBiggle phone is not found in the system."
        userInterventionContinue: false
        attachments: false
        allowQuote: false
    - name: QUOTE_1_ITEMS_VARIANTS_00
      description: Verbose email with quote request for 1 item with variants. The list of items should contain the information about the variant from the item list. Variants should be explicitly specified. We want to test if the variants for the items are correctly picked.
      priority: 0
      turns:
        - from: jessica.stone@toytopia.com
          subject: Request for Quote on Multiple Items
          body: |
            Hello,

            We would like to receive a quote for the following items:

            1. MagicToyland Fairy Doll
              - Variant: BLUE
              - Quantity: 5

            Please provide the pricing information at your earliest convenience.

            Thanks,
            Jessica Stone
            Purchasing Specialist
            Toytopia
            (212) 555-6789
            jessica.stone@toytopia.com
          expected_data:  #TODO 558879: Update variant related tests
            quotes:
              - lines:
                  - itemNo: AItem-0004
                    # itemDescription: MagicToyland Fairy Doll - Blue
                    quantity: 5
                    unitOfMeasure: SET
                    # variantCode: BLUE
                customerName: Toytopia
            # email: |
            #   The email indicates that a quote is attached with: 

            #   1. MagicToyland Fairy Doll - Variant: BLUE - Quantity: 5 - Unit: SET
              
            #   The email is from Sales Order Agent and clearly indicates
            #   that it's generated by AI.

            email: |
              The email indicates that a quote is attached with: 

              1. MagicToyland Fairy Doll - Quantity: 5 - Unit: SET
              
              The email is from Sales Order Agent and clearly indicates
              that it's generated by AI.
    - name: QUOTE_1_ITEMS_UOM_00
      description: Terse email with a quote request for 1 items with different Unit of Measures (UOM). Pick the items that have multiple UOMs. We want to test if the UOMs for the items are correctly picked.
      priority: 0
      turns:
      - from: jessica.stone@toytopia.com
        subject: "Quote Request for Items"
        body: |
          Hi,

          Please provide a quote for the following items:
          Item, Quantity, Unit of Measure
          - Rasta Coffee Beans, 3, SET

          Looking forward to your prompt response.

          Thanks,
          Jessica Stone
          Sales Manager
          Toytopia
          (212) 555-6789
          jessica.stone@toytopia.com
        expected_data:
          quotes:
          - lines:
            - itemNo: AItem-0026
              itemDescription: Rasta Coffee Beans
              quantity: 3
              unitOfMeasure: SET
              variantCode: ""
            customerName: Toytopia
          email: |
            The email indicates that a quote is attached with:

            - 3 SET x Rasta Coffee Beans

            The email is from Sales Order Agent and clearly indicates
            that it's generated by AI.
    - name: QUOTE_1_ITEMS_ATTRIBUTES_00
      description: Terse email with a quote request for 1 item. Pick the items that have same description but different attributes. The list of items should contain the information about the attributes from the item list. Attributes should be implicitly specified, i.e. item description should be combined with attributes. We want to test if the correct item numbers are picked.
      priority: 0
      turns:
      - from: jessica.stone@toytopia.com
        subject: Quote Request for food
        body: |
          Hi Sales Team,

          Could you please provide a quote for the one 12' Pizza?

          Thanks,
          Jessica Stone  
          Sales Director
          Toytopia
          (212) 555-6789  
          jessica.stone@toytopia.com
        expected_data:
          quotes:
          - lines:
            - itemNo: AItem-0051
              itemDescription: Pizza
              quantity: 1
              unitOfMeasure: BOX
              variantCode: ""
            customerName: Toytopia
          email: |
            The email indicates that a quote is attached with: 

            - 1 Box of 12' Pizza

            The email is from Sales Order Agent and clearly indicates
            that it's generated by AI.
    - name: QUOTE_5_ITEMS_UOM_VARIANT_ATTRIBUTE_01
      description: Terse email with a quote request for 5 items with variants, UOM and attributes.
      priority: 0
      turns:
        - from: info@toytopia.com
          subject: Quote Request
          body: |
            Hi,

            Could you provide a quote for the following: A box of Kiddie Quest Bicycle for age 3-5,
            Small set of JoySprout Toy Bicycle, a pack of SmartToys Jigsaw Puzzle set containing 100 pieces,
            a pack of medium sized Generic red T-Shirt, and a box of large Generic Trousers.

            Thanks,
            Toytopia
            Sales Department
            Toytopia
            (212) 555-6789
            info@toytopia.com
          expected_data: #TODO 558879: Update variant related tests
            quotes:
              - lines:
                  - itemNo: AItem-0012
                    # itemDescription: Kiddie Quest Bicycle for AGE group 3-5
                    quantity: 1
                    unitOfMeasure: BOX
                    # variantCode: AGE - 3-5
                  - itemNo: AItem-0013
                    # itemDescription: JoySprout Toy Bicycle - Small Size
                    quantity: 1
                    unitOfMeasure: SET
                    # variantCode: SMALL
                  - itemNo: AItem-0015
                    # itemDescription: SmartToys 100 pieces Jigsaw Puzzle Set
                    quantity: 1
                    unitOfMeasure: PACK
                    # variantCode: 100 pieces
                  - itemNo: AItem-0022
                    # itemDescription: T-Shirt - Medium
                    quantity: 1
                    unitOfMeasure: PACK
                    # variantCode: MEDIUM
                  - itemNo: AItem-0020
                    # itemDescription: Generic Trousers - Large
                    quantity: 1
                    unitOfMeasure: BOX
                    # variantCode: LARGE
                customerName: Toytopia
            # email: |
            #   The email indicates that a quote is attached with:

            #   - Kiddie Quest Bicycle age 3-5 BOX
            #   - JoySprout Toy Bicycle SMALL SET
            #   - SmartToys Jigsaw Puzzle Set 100 pieces PACK
            #   - Generic T-Shirt RED MEDIUM PACK
            #   - Generic Trousers LARGE BOX

            #   The email is from Sales Order Agent and clearly indicates
            #   that it's generated by AI.
            email: |
              The email indicates that a quote is attached with:

              - Kiddie Quest Bicycle BOX
              - JoySprout Toy Bicycle SET
              - SmartToys Jigsaw Puzzle Set PACK
              - Generic T-Shirt RED PACK
              - Generic Trousers BOX

              The email is from Sales Order Agent and clearly indicates
              that it's generated by AI.
